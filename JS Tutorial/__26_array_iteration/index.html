<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Array Iteration</title>
</head>

<body>
  <script>
    // JavaScript Array Iteration

    // Array iteration methods operate on every array item.

    // JavaScript Array forEach()

    // The forEach() method calls a function (a callback function) once for each array element.
    {
      const numbers = [45, 4, 9, 16, 25];
      let txt = "";
      numbers.forEach(myFunction);

      function myFunction(value, index, array) {
        txt += value + "<br>";
      }

      document.body.innerHTML = txt;

      // Note that the function takes 3 arguments:

      // The item value

      // The item index

      // The array itself
    }

    // The example above uses only the value parameter. The example can be rewritten to:
    {
      const numbers = [45, 4, 9, 16, 25];
      let txt = "";
      numbers.forEach(myFunction);

      function myFunction(value) {
        txt += value + "<br>";
      }
    }


    // JavaScript Array map()

    // The map() method creates a new array by performing a function on each array element.

    // The map() method does not execute the function for array elements without values.

    // The map() method does not change the original array.

    // This example multiplies each array value by 2:
    {
      const numbers1 = [45, 4, undefined, 16, 25];
      const numbers2 = numbers1.map(myFunction);
      const numbers3 = numbers1.map(myFunction2);

      function myFunction(value, index, array) {
        return !!value;
      }

      function myFunction2(value, index, array) {
        return array[index] ? array[index] * 2 : 0;
      }

      console.log("numbers2:", numbers2);
      console.log("numbers3:", numbers3);

      // Note that the function takes 3 arguments:

      // The item value

      // The item index

      // The array itself
    }

    // When a callback function uses only the value parameter, the index and array parameters can be omitted
    {
      const numbers1 = [45, 4, 9, 16, 25];
      const numbers2 = numbers1.map(myFunction);

      function myFunction(value) {
        return value * 2;
      }

      console.log("numbers2:", numbers2);
    }


    // JavaScript Array filter()

    // The filter() method creates a new array with array elements that passes a test.

    // This example creates a new array from elements with a value larger than 18:
    {
      const numbers = [45, 4, 9, 16, 25];
      const over18 = numbers.filter(myFunction);

      function myFunction(value, index, array) {
        return value > 18;
      }
      console.log("over 18:", over18);

      // Note that the function takes 3 arguments:

      // The item value 

      // The item index

      // The array itself
    }

    // In the example above, the callback function does not use the index and array parameters, so they can be omitted:
    {
      const numbers = [45, 4, 9, 16, 25];
      const over18 = numbers.filter(myFunction);

      function myFunction(value) {
        return value > 18;
      }

      console.log("over 18:", over18);
    }



    // JavaScript Array reduce()

    // The reduce() method runs a function on each array element to produce (reduce it to) a single value.

    // The reduce() method works from left-to-right in the array. See also reduceRight().

    // The reduce method does not reduce the original array.

    // This example finds the sum of all numbers in an array:
    {
      const numbers = [45, 4, 9, 16, 25];
      let sum = numbers.reduce(function (total, value, index, array) {
        console.log("total:", total);
        return total + value
      });

      console.log("Sum:", sum);

      // Note that the function takes 4 arguments:

      // The total (the initial value / previously returned value)

      // The item value

      // The item index

      // The array iitself
    }

    // The example above does not use the index and array parameters. It can be rewritten to:
    {
      const numbers = [45, 4, 9, 16, 25];
      let sum = numbers.reduce(function (total, value) {
        return total + value
      });

      console.log("Sum2:", sum);
    }

    // The reduce() method can accept an initial value:
    {
      const numbers = [45, 4, 9, 16, 25];
      let sum = numbers.reduce(myFunction, 100);

      function myFunction(total, value, index, array) {
        return total + value;
      }

      // Or you can do like so: 
      let sum2 = numbers.reduce(function (total, value, index, array) {
        return total + value;
      }, 100);

      console.log("Sum::", sum);
      console.log("Sum2:::", sum2);
    }


    // JavaScript Array reduceRight()

    // The reduceRight() method runs a function on each array element to produce (reduce it to) a single value.

    // The reduceRight() works from right-to-left in the array. See also reduce().

    // The reduceRight() method does not reduce the original array.

    // This example finds the sum of all numbers in an array:
    {
      const numbers = [45, 4, 9, 16, 25];
      let sum = numbers.reduceRight(myFunction);

      function myFunction(total, value, index, array) {
        return total + value;
      }
      console.log("Sum, using reduceRight:", sum);

      // Note that the function takes 4 arguments:

      // The total (the initial / previously returned value)

      // The item value

      // The item index

      // The array itself
    }

    // The example above does not use the index and array parameters. It can be rewritten to:
    {
      const numbers = [45, 4, 9, 16, 25];
      let sum = numbers.reduceRight(function (total, value) {
        return total + value;
      });

      console.log("Sum, using reduceRight2:", sum);
    }


    // JavaScript Array every()

    // The every() method check if all array values pass a test.

    // This example check if all values are larger than 18:
    {
      const numbers = [45, 4, 9, 16, 25];
      let allOver18 = numbers.every(myFunction);

      function myFunction(value, index, array) {
        return value > 18;
      }

      console.log("All Over 18:", allOver18);

      // Note that the function takes 3 arguments:

      // The item 

      // The item index

      // The array itself
    }

    // When a callback function uses the first parameter only (value), the other parameters can be omitted: 
    {
      const numbers = [45, 4, 9, 16, 25];
      let allPositive = numbers.every(function (value) {
        return value > 0;
      });

      console.log("All Positive:", allPositive);
    }


    // JavaScript Array some()

    // The some() method check if some array values pass a test.

    // This example check if some array values are larger than 18.
    {
      const numbers = [45, 4, 9, 16, 25];
      let someOver18 = numbers.some(function (value, index, array) {
        return value > 18;
      });

      console.log("Some Over 18:", someOver18);

      // Note that the function takes 3 arguments:

      // The item value

      // The item index

      // The array itself

      let someNegative = numbers.some(function (value) {
        return value < 0;
      });

      console.log("Some Negative:", someNegative);
    }


    // JavaScript Array indexOf()

    // The indexOf() method searches an array for an element value and returns its position.

    // Note: The first item has position 0, the second item has position 1, and so on.

    // Example: Search an array for the item "Apple":
    {
      const fruits = ["Apple", "Orange", "Apple", "Mango"];

      // If the item is present more than once, it returns the position of the first occurrence.
      let position = fruits.indexOf("Apple") + 1;
      console.log(position);

      // Start position. Where to start the search. Negative values will start at the given position counting from the end, and search to the end.
      let position2 = fruits.indexOf("Apple", 1);
      console.log(position2);

      const position4 = fruits.indexOf("Apple", -3);
      console.log(position4);

      // Array.indexOf() returns -1 if the item is not found.

      let position3 = fruits.indexOf("Zelito");
      console.log(position3);
    }

    // JavaScript Array lastIndexOf()

    // Array.lastIndexOf() is the same as Array.indexOf(), but returns the position of the last occurrence of the specified element.

    // Example: Search an array for the item "Apple":
    {
      const fruits = ["Apple", "Orange", "Apple", "Mango"];
      let position1 = fruits.lastIndexOf("Apple");
      console.log("position1", position1);

      // Start. Optional. Where to start the search. Negative values will start at the given position counting from the end, and search to the beginning.
      const position2 = fruits.lastIndexOf("Apple", 1);
      console.log("Position:", position2);

      const position3 = fruits.lastIndexOf("Apple", 2);
      console.log("Position3:", position3);

      const position4 = fruits.lastIndexOf("Apple", -3);
      console.log("Position4:", position4);
    }


    // JavaScript Array find()

    // The find() method returns the value of the first array element that passes a test function.

    // This example finds (returns the value of) the first element that is larger than 18:
    {
      const numbers = [4, 9, 16, 25, 29];
      let first = numbers.find(myFunction);

      function myFunction(value, index, array) {
        return value > 18;
      }

      console.log("First:", first);

      // Note that the function takes 3 arguments:

      // The item value

      // The item index

      // The array itself
    }


    // JavaScript Array findIndex()

    // The findIndex() method returns the index of the first array element that passes a test function.

    // This example finds the index of the first element that is larger than 18:
    {
      const numbers = [4, 9, 16, 25, 29];
      let first = numbers.findIndex(function (value, index, array) {
        return value > 18;
      });

      console.log("FindIndex:", first);

      // Or 
      function myFunction(value, index, array) {
        return value > 18;
      }

      // Note that the function takes 3 arguments:

      // The item value

      // The item index

      // The array itself
    }


    // JavaScript Array.from()

    // The Array.from() method returns an Array object from any object with a length property or any iterable object.

    // Create an Array from a String:
    {
      const array = Array.from("ABCDEFG");
      console.log(array);

      const object = {
        length: 2,
        firstName1: "Zelito",
        firstName2: "Saide"
      }

      console.log(Array.from(object));
    }


    // JavaScript Array keys()

    // The Array.keys() returns an Array Iterator object with the keys of an array.

    // Create an Array Iterator object, containing the keys of the array:
    {
      const fruits = ["Banana", "Orange", "Apple", "Mango"];
      const keys = fruits.keys();

      for (let x of keys) {
        console.log(x);
      }
    }

    // Array entries()

    // Create an Array Iterator, and then iterate over the key/value pairs:
    {
      const fruits = ["Banana", "Orange", "Apple", "Mango"];
      const entries = fruits.entries();

      for (let x of entries) {
        console.log(x);
      }

      // The entries() method returns an Array Iterator object with key/value pairs:

      // [0, "Banana"]

      // [1, "Orange"]

      // [2, "Apple"]

      // [3, "Mango"]

      // The entries() method does not change the original array.
    }


    // JavaScript Array includes()

    // ECMAScript 2016 introduced Array.includes() to arrays. This allows us to check if an element is present in an array (including NaN, unlike indexOf).
    {
      const fruits = ["Banana", "Orange", "Apple", "Mango", NaN];
      const includes = fruits.includes("Mango");

      console.log("includes", includes);

      const includes2 = fruits.includes(NaN);
      console.log("includes2:", includes2);

      const indexOf = fruits.indexOf(NaN);
      console.log("indexOf:", indexOf);

      // Array.includes() allows to check for NaN values. Unlike Array.indexOf().
    }
  </script>
</body>

</html>